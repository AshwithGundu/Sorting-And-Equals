/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package library;

import enums.MPAA_Rating;
import interfaces.Library;

/**
 * DVD represents a type of compact disc able to store large amounts of data,
 * especially high-resolution audiovisual material
 *
 * @author Ashwith Gundu
 */
public class DVD extends Item implements Library {

    /**
     * Unique ID of DVD
     */
    private String dvdID;
    /**
     * MPAA rating of DVD
     */

    private MPAA_Rating rating;
    /**
     * Storage capacity of DVD in GB
     */

    private double storageCapacity;

    /**
     * Initializes the variables of this class and the super class. Assign
     * generateUniqueID() to dvdID.
     *
     * @param rating - Rating of DVD
     * @param storageCapacity - Storage Capacity of DVD
     * @param title - Title of DVD
     */
    public DVD(MPAA_Rating rating, double storageCapacity, String title) {
        super(title);
        generateUniqueID();
        this.rating = rating;
        this.storageCapacity = storageCapacity;
    }

    /**
     * This method generates rack identification number to keep the DVD at a
     * particular location in the library. <br>The rack ID is generated by using
     * the following algorithm. <br>Place the first character after the next two
     * characters of DVD title. <br>Repeat the process for each subsequent group
     * of three characters. <br>Ignore any group of fewer than 3 chars at end.
     * At last append the storage capacity as shown below.
     *
     * <h3>Examples</h3>
     *
     * <table summary="Examples" border ="1px">
     * <tr>
     * <th>Storage Capacity</th>
     * <th>DVD title</th>
     * <th>RackID</th>
     * </tr>
     * <tr>
     * <td>1.2</td>
     * <td>chocolate</td>
     * <td>hocolctea.1.2</td>
     * </tr>
     * <tr>
     * <td>1.5</td>
     * <td>sanjay</td>
     * <td>ansayj.1.5</td>
     * </tr>
     * <tr>
     * <td>1.4</td>
     * <td>tcagdo</td>
     * <td>catdog.1.4</td>
     * </tr>
     * <tr>
     * <td>2.7</td>
     * <td>xabxabxabxabxabxabxab</td>
     * <td>abxabxabxabxabxabxabx.2.7</td>
     * </tr>
     *
     * </table>
     *
     * @return - String Rack ID
     */
    public String generateRackID() {
        String rackID = null;
        int lengthTitle = this.getTitle().length();
        for (int i = 0; i < lengthTitle; i = i + 3) {
            rackID += this.getTitle().substring(i + 1, i + 3) + this.getTitle().charAt(i);
        }
        return "_D_" + this.dvdID;
    }

    /**
     * This method concatenates LIBRARY_CODE, "_DVD_", counter and returns it.
     *
     * @return - String Unique ID of DVD
     */
    @Override
    public String generateUniqueID() {
        dvdID = LIBRARY_CODE + "_DVD_" + counter;
        return dvdID;
    }

    /**
     * Sets MPAA rating of DVD
     *
     * @param rating - Rating of DVD
     */
    public void setRating(MPAA_Rating rating) {
        this.rating = rating;
    }

    /**
     * Sets the storage capacity of DVD
     *
     * @param storageCapacity - Storage capacity of DVD
     */
    public void setStorageCapacity(double storageCapacity) {
        this.storageCapacity = storageCapacity;
    }

    /**
     * Returns MPAA rating of DVD
     *
     * @return - MPAA_Rating rating of DVD
     */
    public MPAA_Rating getRating() {
        return rating;
    }

    /**
     * Returns the storage capacity of DVD
     *
     * @return - double Storage capacity of DVD
     */
    public double getStorageCapacity() {
        return storageCapacity;
    }

    /**
     * Invoke super.toString() and concatenate dvdID, rating and storageCapacity
     * <br>For example:<br>Title: HarryPoter1, DVD ID: NWM_DVD_3, Rating: R,
     * Storage Capacity: 1.2
     *
     * @return - String To string representation of DVD
     */
    @Override
    public String toString() {
        return "Title: " + this.getTitle().toLowerCase() + ", Available: " + this.isAvailable() + ", DVD ID: " + dvdID
                + ", Rating: " + this.rating + ", Storage Capacity: " + this.storageCapacity + "\n";
    }
}
